# Начало работы с ROS

## Требования
- Установленный Libux дистрибутив (например [Ubuntu](http://releases.ubuntu.com/16.04/))
- Установленный [ROS Kinetic](http://wiki.ros.org/kinetic/Installation/Ubuntu)
- Базовые знания Unix (при отсутствии - задавайте больше вопросов)
- Готовность к изучению нового и интересного =)

## Подготовка среды ROS

Сначала настроим ROS для текущей сессии - открываем терминал и используем общую команду:
```bash
source /opt/ros/<distro>/setup.bash
```
Для нашего случая:
```bash
source /opt/ros/kinetic/setup.bash
```
или
```bash
. /opt/ros/kinetic/setup.bash
```
> Команды `source` и `.` равны =)

Для того, чтобы настраивать ROS автоматически при создании сессий, необходимо прописать
```bash
. /opt/ros/kinetic/setup.bash
```
в конец файла `~/.bashrc`. 

> Он находится в домашней директории и скрыт, так как начинается с точки. Символ `~` - означает (равен) `/home/<пользователь>`, в нашем случае это `/home/user`. 

Открыть файл можно командой:
```bash
subl ~/.bashrc
```

Или можно просто прописать строку в конец файла командой:
```bash
echo ". /opt/ros/kinetic/setup.bash" >> ~/.bashrc
```

> Символ `>>` означает "добавить в конец файла" ("append to the end").
> Команда `echo` выводит строку в терминал, а добавление `>>` переводит этот вывод в конец файла. 

##### Установите строку и проверьте установку, открыв файл. 

> На VM в этом файле ранее уже была установлена описываемая строка. Два раза ставить нет необходимости - можно убрать повтор.

Теперь глобально ROS настроен. Если вы поставили автоматическую настройку - перезапустите терминал. Убедитесь в настройке, проверив переменную окружения ROS_PACKAGE_PATH командой:
```bash
echo $ROS_PACKAGE_PATH
```
Команда должна отобразить путь до папки с пакетами, там должен содержаться глобальный путь системы ROS:
```bash
/opt/ros/kinetic/share
```

Если он там есть - продолжаем =)

## Подготовка рабочего пространства (workspace -> ws)

#### [Исходная инфа на офф сайте](http://wiki.ros.org/catkin/Tutorials/create_a_workspace)

Для работы с ROS необходимо создать папку и инициализировать ее как рабочее пространство, в котором будут собираться пакеты ROS со всем содержимым.
Создаем папку. 
```bash
mkdir -p ~/catkin_ws/src
```
Здесь есть особенность, необходимо также внутри нее создать папку `src` для инициализации (кто б знал зачем). Опция `-p` создает все вложенные папки по указанному пути, если они не существуют.

После этого переходим в папку и вызываем утилиту сборки (в данном случае для предустановки необходимых файлов)
```bash
cd ~/catkin_ws
catkin_make
```

После этого рабочее пространство готово и осталось добавить в файл `~/.bashrc` строку для подтягивания всех переменных и путей, чтобы система ROS видела пакеты внутри вашего рабочего пространства:
```bash
. ~/catkin_ws/devel/setup.bash
```
> Система ROS может видеть только одно рабочее простанство, создание нескольких пространств и добавление в `rc`-файл не даст положительного результата

## Проверка установки

После перезапуска терминалов (для установки всех переменных) можно проверить установку всех путей командой
```bash
echo $ROS_PACKAGE_PATH
```
В вывалившемся результате должен находиться путь до вашего рабочего простанства. Строка должна содержать результат похожий на 
```bash
/home/alex/catkin_ws/src:/opt/ros/kinetic/share
```

Как видно, первый путь (разделитель - ':') является путем до нашего нового ws.

## В результате
- В файле `~/.bashrc` содержится два пути:
```bash
. /opt/ros/kinetic/setup.bash
. ~/catkin_ws/devel/setup.bash
```

Первый настраивает пути для системных файлов ROS, второй настраивает ROS для поиска пакетов также и в нашем ws.

- Также создали папку catkin_ws, в которой после инициализации содержатся три папки: build, devel и src. Это и есть наш ws (workspace - рабочее пространство).

Успехов =)
