# Начало работы с ROS

## Требования
- Установленный Libux дистрибутив (например [Ubuntu](http://releases.ubuntu.com/16.04/))
- Установленный [ROS](http://wiki.ros.org/kinetic/Installation/Ubuntu)
- Базовые знания Unix (при отсутствии - задавайте больше вопросов)
- Готовность к изучению нового и интересного =)

## Подготовка среды ROS

Для начала необходимо импортировать все параметры и пути ROS, для этого можно воспользоваться командой:
```bash
source /opt/ros/<distro>/setup.sh
```
Для нашего случая:
```bash
source /opt/ros/kinetic/setup.sh
```
или
```bash
. /opt/ros/kinetic/setup.sh
```
> Команды `source` и `.` равны =)

> Вызов данной команды может быть выполнен из любой директории, так как он настраивает пути для терминала, в котором вызвана команда

Для автоматического импорта при запуске терминала необходимо прописать строку 
```bash
. /opt/ros/kinetic/setup.sh
```
в конец файла `~/.bashrc`. Он находится в домашней директории и скрыт, так как начинается с точки. Символ `~` - означает (равен) `/home/<пользователь>`, в нашем случае это `/home/user`. Открыть файл можно командой:
```bash
subl ~/.bashrc
```

На данном этапе при запуске терминала все необходимое для работы утилит и системы ROS готово. Для того, чтобы автоматическое добавление сработало - перезапустите терминал.

## Подготовка рабочего пространства (workspace)

#### [Source](http://wiki.ros.org/catkin/Tutorials/create_a_workspace)

Для работы с ROS необходимо создать папку и инициализировать ее как рабочее пространство, в котором будут собираться пакеты ROS со всем содержимым.
Создаем папку. 
```bash
mkdir -p ~/catkin_ws/src
```
Здесь есть особенность, необходимо также внутри нее создать папку `src` для инициализации (кто б знал зачем). Опция `-p` создает все вложенные папки по указанному пути, если они не существуют.

После этого переходим в папку и вызываем утилиту сборки (в данном случае для предустановки необходимых файлов)
```bash
cd ~/catkin_ws
catkin_make
```

После этого рабочее пространство готово и осталось добавить в файл `~/.bashrc` строку для подтягивания всех переменных и путей, чтобы система ROS видела пакеты внутри вашего рабочего пространства:
```bash
. ~/catkin_ws/devel/setup.sh
```
> Система ROS может видеть только одно рабочее простанство, создание нескольких пространств и добавление в `rc`-файл не даст положительного результата

## Проверка установки

После перезапуска терминалов (для установки всех переменных) можно проверить установку всех путей командой
```bash
echo $ROS_PACKAGE_PATH
```
В вывалившемся результате должен находиться путь до вашего рабочего простанства. Строка должна содержать результат похожий на 
```bash
/home/alex/catkin_ws/src:/opt/ros/kinetic/share
```

Как видно, первый путь (разделитель - ':') является путем до нашего нового ws.

## В результате
- В файле `~/.bashrc` содержится два пути:
```bash
. /opt/ros/kinetic/setup.sh
. ~/catkin_ws/devel/setup.sh
```

Первый настраивает пути для системных файлов ROS, второй настраивает ROS для поиска пакетов также и в нашем ws.

- Также создали папку catkin_ws, в которой после инициализации содержатся три папки: build, devel и src. Это и есть наш ws (workspace - рабочее пространство).

Успехов =)
